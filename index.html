<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="./dist/build/cyto-chromosome.js"></script>
    <script src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
    <link href="css/cyto-chromosome.style.css" rel="stylesheet"  type="text/css"/>

    <style>

    </style>

    <script>
          var Chromosome = require('Chromosome');

          function x(chromosomes){
              $(function () {
                  var inst = new Array();
                  for (var i = 0; i < chromosomes.length; i++)
                  {
                      var chrSeg = chromosomes[i];

                      $("#cyto-vis").append("<h3> Chromosome "+ chromosomes[i]+"</h2>");
                      $("#cyto-vis").append("<svg id=chr"+chromosomes[i] + ">" + "</svg><br/>");
                      $("#cyto-vis").append("<p id=info"+chromosomes[i] + ">" + "</p><br/>");
                      var target = "#chr" + chromosomes[i];
                      inst[chromosomes[i]] = new Chromosome({
                          segment: chromosomes[i],
                          target: target,
                          width: 1200,
                          includeAxis: true,
                          relativeSize: true
                      }).draw();

                      inst[chromosomes[i]].on('modelLoaded', function(e) {
                          //console.log(e);
                          $("#info"+ e.id).text("modelLoaded: " + e.id);
                          inst[e.id].moveSelectorTo(1,2000000);
                      });

                      inst[chromosomes[i]].on("bandSelection", function(e) {
                          //console.log(e);
                          $("#info"+ e.segment).text("bandSelection: " + e.segment + " start: " + e.start + " end: " + e.end);
                      });

                      inst[chromosomes[i]].on('selectionChange', function(e) {
                          //console.log(e);
                          $("#info"+ e.segment).text("selectionChange: start: " + e.start + " end: " + e.end);
                      });
                  }
              });

          }

        x(["13","X","1"]);


    </script>
</head>
<body>


<div id="cyto-vis"></div>

</body>
</html>